<!DOCTYPE html>
<html>
<head>
<title>Test: assistant.js</title>
<link rel="stylesheet" href="../lib/qunit.css" type="text/css" media="screen" />
<script src="../lib/qunit.js"></script>
<script src="../lib/jquery-1.7.2.min.js"></script>
<script src="../lib/event.js"></script>

<script src="../js/clock.js"></script>
<script src="../js/sets.js"></script>
<script src="../js/assistant.js"></script>

<script>
"use strict";
var Card = Sets.Card;
var Deck = Sets.Deck;
var Game = Sets.Game;
var Assistant = Sets.Assistant;

$(document).ready(function () {
	function getSimpleBoard() {
		return [
			new Card( 1, "Oval", "striped", "green"),
			new Card( 1, "Oval", "striped", "red"),
			new Card( 1, "Oval", "striped", "blue")
		];
	}

	module('Assistant::init');
	test('requires `delay` param', function() {
		raises(function() { new Assistant(); }, Error, 'delay param is required');
	});

	module('Assistant::shuffle');
	test('shuffles non-lists', function() {
		var undef;
		var cases = [
			null,
			undef,
			123,
			'hello world',
			{foo: 'hello', bar:'world'},
			{length:3}
		];
		for(var i = 0; i < cases.length; i++) {
			equal(cases[i], Assistant.shuffle(cases[i]), 'non-list returned a list');
		}
	});

	module('Assistant::listNotPossibleCards');
	test('less than three cards, must not be a match', function() {
		var board = getSimpleBoard();
		board.pop();

		var unmatched = Assistant.listNotPossibleCards(board);
		equal(unmatched.length, 2, 'not enough cards to make a match');
		deepEqual(unmatched, [board[0], board[1]], 'not enough cards to make a match');
	});

	test('all have matches', function() {
		var board = getSimpleBoard();

		var unmatched = Assistant.listNotPossibleCards(board);
		equal(unmatched.length, 0, 'all cards should have a match');
		deepEqual(unmatched, [], 'all cards should have a match');
	});

	test('only the last should be unmatched', function() {
		var board = getSimpleBoard();
		board.push(new Card(2, "Oval" ,"striped", "green"));

		var unmatched = Assistant.listNotPossibleCards(board);
		equal(unmatched.length, 1, 'only one is not a match');
		deepEqual(unmatched, [board[3]], 'the last card has no match');
	});

	test('Finds unmatched: no selection', function() {
		var tests = listNotPossibleCardsDataProvider(),
			testcase = null;
		for(var i = 0, len = tests.length; i < len; i++) {
			testcase = tests[i];
			var noMatchFound = Assistant.listNotPossibleCards(testcase.board);
			equal(noMatchFound.length, testcase.notPossible.length, 'failed on index '+i);
			deepEqual(noMatchFound, testcase.notPossible);
		}
	});

	test('Finds unmatched: one card selected', function() {
		var tests = listNotPossibleCardsOneSelectedDataProvider(),
			testcase = null;
		for(var i = 0, len = tests.length; i < len; i++) {
			testcase = tests[i];
			var noMatchFound = Assistant.listNotPossibleCards(testcase.board);
			equal(noMatchFound.length, testcase.notPossible.length, 'failed on index '+i);
			deepEqual(noMatchFound, testcase.notPossible);
		}
	});

	test('Finds unmatched: two cards selected', function() {
		var tests = listNotPossibleCardsTwoSelectedDataProvider(),
			testcase = null;
		for(var i = 0, len = tests.length; i < len; i++) {
			testcase = tests[i];
			var noMatchFound = Assistant.listNotPossibleCards(testcase.board);
			equal(noMatchFound.length, testcase.notPossible.length, 'failed on index '+i);
			deepEqual(noMatchFound, testcase.notPossible);
		}
	});

	module('Assistant::startSearchForUnmatched', {
		setup: function() {
			this.delay = 50;
		}
	});
	test('search should look at all cards and stop eventually', function() {
		// borrowed from below
		var testcase = {board: [
			{"count":2,"shape":"Diamond", "fill":"solid","color":"green"},
			{"count":2,"shape":"Squiggle","fill":"solid","color":"red"  },
			{"count":2,"shape":"Squiggle","fill":"solid","color":"blue" },
			{"count":3,"shape":"Squiggle","fill":"solid","color":"red"  },
			{"count":2,"shape":"Squiggle","fill":"solid","color":"green"},
			{"count":3,"shape":"Oval",    "fill":"solid","color":"red"  },
			{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
			{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  },
			{"count":1,"shape":"Squiggle","fill":"solid","color":"green"}
		], notPossible: [
			// nothing
		]};
		var assistant = new Assistant(this.delay);

		expect(1);
		stop(1);

		assistant.clock.bind('clock.stop', function() {
			ok(true, 'clock.stop event caught');
			start();
		});
		assistant.bind('assistant.picked-not-possible', function() {
			ok(false, 'Should not find card in this board');
			start();
		});

		assistant.startSearchForUnmatched(testcase.board);
	});

	test('search should find cards that are unamatchable', function() {
		// borrowed from below
		var testcase = {board: [
			{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
			{"count":2,"shape":"Diamond", "fill":"solid","color":"green"},
			{"count":2,"shape":"Squiggle","fill":"solid","color":"red"  },
			Card.factory({"count":3,"shape":"Diamond", "fill":"solid","color":"green"}),
			{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
			Card.factory({"count":2,"shape":"Diamond", "fill":"solid","color":"blue" }),
			{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
			{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
			{"count":3,"shape":"Oval",    "fill":"solid","color":"red"  }
		], notPossible: [
			Card.factory({"count":3,"shape":"Diamond", "fill":"solid","color":"green", "hasSet": false}),
			Card.factory({"count":2,"shape":"Diamond", "fill":"solid","color":"blue" , "hasSet": false})
		]};
		var assistant = new Assistant(this.delay);

		expect(testcase.notPossible.length);
		stop(testcase.notPossible.length);

		assistant.bind('assistant.picked-not-possible', function(event, card) {
			ok(true, 'picked-not-possible event caught '+ card);
			start();
		});

		assistant.startSearchForUnmatched(testcase.board);
	});

	test('search should detect if none of the cards will match with each other', function() {
		var cards = [
			{"count":1,"shape":"Squiggle","fill":"solid","color":"blue" },
			{"count":1,"shape":"Oval",    "fill":"solid","color":"blue" },
			{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
			{"count":2,"shape":"Diamond", "fill":"solid","color":"red"  },
			{"count":2,"shape":"Squiggle","fill":"solid","color":"blue" },
			{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" }
		];
		var assistant = new Assistant(this.delay);

		expect(1);
		stop(1);

		assistant.bind('assistant.no-cards-possible', function(event) {
			ok(true, 'no-cards-possible event caught');
			start();
		});

		assistant.startSearchForUnmatched(cards);
	});

	test('search should ignore previous unmatched state', function() {
		// borrowed from below
		var testcase = {board: [
			{"count":2,"shape":"Diamond", "fill":"solid","color":"green", "hasSet":true},
			{"count":2,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet":true},
			{"count":2,"shape":"Squiggle","fill":"solid","color":"blue",  "hasSet":true},
			{"count":3,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet":true},
			{"count":2,"shape":"Squiggle","fill":"solid","color":"green", "hasSet":true},
			{"count":3,"shape":"Oval",    "fill":"solid","color":"red",   "hasSet":true},
			{"count":1,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet":true},
			{"count":3,"shape":"Diamond", "fill":"solid","color":"red",   "hasSet":true},
			{"count":1,"shape":"Squiggle","fill":"solid","color":"green", "hasSet":true}
		], notPossible: [
			// nothing
		]};
		var assistant = new Assistant(this.delay);

		expect(1);
		stop(1);

		assistant.clock.bind('clock.stop', function() {
			ok(true, 'clock.stop event caught');
			start();
		});

		assistant.startSearchForUnmatched(testcase.board);
	});

	function listNotPossibleCardsDataProvider() {
		return [
			{board: [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red"  }
			], notPossible: [
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green", "hasSet": false},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" , "hasSet": false}
			]}, {board:  [
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  }
			], notPossible: [
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":1,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" }
			], notPossible: [
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":1,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green"}
			], notPossible: [
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false}
			]}, {board:  [
				{"count":1,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green"}
			], notPossible: [
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":1,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"}
			], notPossible: [
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"blue" }
			], notPossible: [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue",  "hasSet": false}
			]}, {board:  [
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green"}
			], notPossible: [
				// nothing
			]}, {board:  [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" }
			], notPossible: [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red",   "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"green"}
			], notPossible: [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false}
			]}
		];
	}

	function listNotPossibleCardsOneSelectedDataProvider() {
		return [
			{board: [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red",   "isSelected":true},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red"  }
			], notPossible: [
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green", "hasSet": false},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red",   "hasSet": false}
			]}, {board:  [
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue",  "isSelected":true},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  }
			], notPossible: [
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":1,"shape":"Diamond", "fill":"solid","color":"red",   "isSelected":true},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" }
			], notPossible: [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":1,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red",   "isSelected":true},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green"}
			], notPossible: [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue",  "hasSet": false},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false}
			]}, {board:  [
				{"count":1,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green", "isSelected":true},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green"}
			], notPossible: [
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red",   "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":1,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green", "isSelected":true},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"}
			], notPossible: [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue" , "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" , "hasSet": false},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"red"  , "hasSet": false},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green", "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue",  "isSelected":true},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"blue" }
			], notPossible: [
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red",   "hasSet": false},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"blue",  "hasSet": false}
			]}, {board:  [
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green",  "isSelected":true},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green"}
			], notPossible: [
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red",   "hasSet": false},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green", "isSelected":true},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" }
			], notPossible: [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red",   "hasSet": false},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green", "isSelected":true},
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"green"}
			], notPossible: [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false},
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false}
			]}
		];
	}

	function listNotPossibleCardsTwoSelectedDataProvider() {
		return [
			{board: [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green", "isSelected":true},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red",   "isSelected":true},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red"  }
			], notPossible: [
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green", "hasSet": false},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red",   "hasSet": false}
			]}, {board:  [
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"blue",  "isSelected":true},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue",  "isSelected":true},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  }
			], notPossible: [
				{"count":2,"shape":"Oval",    "fill":"solid","color":"red",   "hasSet": false},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red",   "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":1,"shape":"Diamond", "fill":"solid","color":"red",   "isSelected":true},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green", "isSelected":true},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" }
			], notPossible: [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":1,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red",   "isSelected":true},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green", "isSelected":true},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green"}
			], notPossible: [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue",  "hasSet": false},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false}
			]}, {board:  [
				{"count":1,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green", "isSelected":true},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green", "isSelected":true},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green"}
			], notPossible: [
				{"count":1,"shape":"Oval",    "fill":"solid","color":"red",   "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red",   "hasSet": false},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"red",   "isSelected":true},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":1,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"green", "isSelected":true},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"}
			], notPossible: [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue" , "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" , "hasSet": false},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"red"  , "hasSet": false},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green", "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Squiggle","fill":"solid","color":"blue",  "isSelected":true},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green", "isSelected":true},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue" },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"blue" }
			], notPossible: [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue",  "hasSet": false},
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red",   "hasSet": false},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"blue",  "hasSet": false}
			]}, {board:  [
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green"},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"red",   "isSelected":true},
				{"count":2,"shape":"Squiggle","fill":"solid","color":"blue" },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green", "isSelected":true},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red"  },
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green"}
			], notPossible: [
				{"count":2,"shape":"Diamond", "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false},
				{"count":3,"shape":"Oval",    "fill":"solid","color":"red",   "hasSet": false},
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red",   "hasSet": false},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"blue",  "isSelected":true},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green", "isSelected":true},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue" }
			], notPossible: [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":1,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false},
				{"count":1,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"red",   "hasSet": false},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false},
				{"count":2,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false}
			]}, {board:  [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green"},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":3,"shape":"Oval",    "fill":"solid","color":"blue",  "isSelected":true},
				{"count":1,"shape":"Diamond", "fill":"solid","color":"red"  },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red"  },
				{"count":2,"shape":"Squiggle","fill":"solid","color":"green", "isSelected":true},
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue" },
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green"},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"green"}
			], notPossible: [
				{"count":3,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false},
				{"count":3,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"red",   "hasSet": false},
				{"count":1,"shape":"Diamond", "fill":"solid","color":"blue",  "hasSet": false},
				{"count":3,"shape":"Squiggle","fill":"solid","color":"green", "hasSet": false},
				{"count":2,"shape":"Oval",    "fill":"solid","color":"green", "hasSet": false}
			]}
		];
	}

});
</script>

</head>
<body>
	<div id="qunit"></div>
	<div id="qunit-fixture">test markup, will be hidden</div>
</body>
</html>
