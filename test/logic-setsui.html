<!DOCTYPE html>
<html>
<head>
<title>Test: logic.js/SetsUI</title>
<link rel="stylesheet" href="../lib/qunit.css" type="text/css" media="screen" />
<script src="../lib/qunit.js"></script>
<script src="../lib/jquery-1.7.2.min.js"></script>
<script src="../lib/event.js"></script>

<script src="../js/sets.js"></script>
<script src="../js/game.js"></script>
<script src="../js/ui.js"></script>

<script>
"use strict";
var Card = Sets.Card;
var Deck = Sets.Deck;
var Game = Sets.Game;
var SetsUI = Sets.SetsUI;

$(document).ready(function () {
	module('SetsUI');
	test('Can make a board', function() {
		var rows = 3,
			cols = 3,
			board = SetsUI.makeBoard(rows, cols);

		var $board = $(board);
		equal(board.nodeName, 'TABLE', 'Should have created a table');
		equal($board.find('tr').length, rows, 'should have all the rows');
		equal($board.find('td').length, rows * cols, 'should have all the rows and cols');
	});

	module('SetsUI', {
		setup: function() {
			Deck.prototype.pickRandomCard = function(idx) {
				return this.pickCard(0);
			};

			this.ui = new SetsUI(document.getElementById('qunit-fixture'));
			this.game = new Game().start();
		}
	});

	test('renderCard Shows cards correctly', function() {
		var cards = [{
			card: new Card(1, 'Diamond',  'striped', 'blue'),
			data: 'data:image/png;base64,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'
		}, {
			card: new Card(1, 'Oval',     'striped', 'blue'),
			data: 'data:image/png;base64,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'
		}, {
			card: new Card(1, 'Squiggle', 'striped', 'blue'),
			data: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAIYElEQVR4nO2dW4xdVR2Hv92W6Vh7G2g1rVUaStommFg0MaFtGkwJDSBB04Tow5gohkRQH4xJQ0Reqj6pRH3AS4hKgpdogngNMYiohKCBOJXepB3pbbAtMIWWoRTk58NaTQ/Dmc4wM/+z9p7z+5JJe/Zvnzlr1vr23uusc/ZalSSMmW5mlS6AmZlYLBOCxTIhWCwTgsUyIVgsE4LFMiFYLBOCxTIhWCwTgsUyIVgsE4LFMiFYLBOCxTIhWCwTgsUyIVgsE4LFMiFYLBOCxTIhWCwTgsUyIVgsE4LFMiFYLBOCxTIhWCwTgsUyIVgsE4LFMiFYLBOCxTIhWCwTgsUyIVgsE4LFMiFYLBOCxTIhWCwTgsUyIVgsE4LFMiFYLBOCxTIhWCwTgsUyIVgsE4LFMiFYLBPCnNIFMJOjqpgHrAZWAIuAV4BDwIDE6ZJlA4vVGKqKCtgAbAWuBNYAT5FkOgVsBN4O9FYVDwJ3SjxYprRQdeti41VFH7ASWAJcBCwA5gI9wGvAGeAl4Ln8MwQMSfyvw+V8J/AZ4JPAPGAxcBC4QuJYy35LgYeAy4DDwKvAw8CnJDreyDNerHykv5d0RF9OOupXkvqXe4BngWPACFAB1wJ9wPPAX4GFpMZ8D7AUGAb2Af8ABoC/A7unu/GqilXAl4GPAD8Gfggc4Zw8O4EPSRxveU6rXLtIZ7ITElums2wTQtKM+wEtAvWD7gc9B/o36PugW0DXgXaBBHoStHTUc5fm7W/KQReA3g96GvQ66DBoP+hF0AOgbaAPgKoplH056F7Qy6AjoEsnWr4x8sdAt3e8DUpLMI0yVaBrQb8GncyNItDuNvu+ofKnmoMuyq/9LdBO0HHQz0EfBc2bYPnngu7IB8LXW+WfYvn25t+5xGK9NaEWgD6bz0qPgz6Rt7VWrsap/GnN81lnG+iZfOb5Leh60Jwx/oarQPtAPwNdHFC+EdBXLNbEhOoF3ZbPTidBg6MvC3k/jXXZ6GD+Ougo6Bjom6DVOVtIuuydIl1eI8s3YLHOL9Qs0MdBB0C/BF3Mefoc+Tl1yfeC7syS/Ql0EHQX6fIZ/fqnQfMtVnupLgX9E/QEaGPL9rfaoS2dLwPdCLqqg68/zKg3Al0vFqljfjPpkvdaTeRoWv4YaIPFOlchfaDfkzrmV9S88Wqbgx4CbbJYqTJWkd7tfQ10QenGaXJO6kKs63qxSP2pF0CH2mTTOg7VDTlpIPeSrhYLdHWulGfyvxqn8pyPk5P6p7O6VizQZtLI9cb8+GzFlByHmgn5jo62Y2mRRlXCpizVhlHb6zIO1dR8CPSDrhQLtIb0Ye7+0ZUz6rRemw5xg/JHQVu6TizQfNKHrodq3DiNzPP2E6CerhKLNPh5H+i7dW2cJuegW0H3drxdayDWTaRR4dl1bZyG5/tA67tKLNAK0tvgy85XOW2e53zi+Z4ibVtYrD+DzoA0TuU4n1x+DNTfVWKBruHctyTbntbzfs4nkYNuAA3QwUHR4mKRvlM1ALohPy49zjOjctDsfNBeU6J9S4rVD/pLy+O6dXibnm8H/aGUVCXF2gO6seaN0+T8JGhFV4kFWp//8NKVPxPzd4CeBd1UUqpSYv2EdD9eXRunsTlpkPk+pnBfYyPFAvWQPl5Y21o5bfar0zhQI3LSV7d30cEbJuok1hbQ39pUjsapPOfj5KQ7f9aUFqqUWN8BfWHUtrMVM9Zbaefj5y/Rwe+z11GsHaDr22yv1ThQU3LQRtL31zaXFqmYWKRB0dOkfkBtOrxNzUFfzI+vLi1RabEuAT1fp8ZpcH4I9F86eANqncVaR7oU1qVxmpgvI82icxi0qrQ8dRFrE+mmydKN08icNETzOOnm3b7S4tRJrPWgR9tVXpt9nb9Rrk+TRtRvpgaDn3UTaxVocIzK0ziVO5l8K2k2l6jf34l8kPTx17+ocX+qtFjzSXfhzBm1XWNdFiaTg+aRpgY6SJoqaAT0CmkKobqOQ42+7K0kTdF0gDRlU5HvVDVCrFxhA6CtbbZP1zjP06D/gO4GLczZatC3s9RHSW/TFwe9/lTzQdBvSGNTt4F6SwvSFLG+SnpXM90d3stJt+MPkeecavPac0AfJk14Owz6I2mKyeXT8PpT+eD47FSXx3Pd3ApaUFqMpom1hPTxw5suS5NpHNLsyNtJk7feAZo7wXLMI008+6PcoDtB38tnvE7ItRv0edAvSH2oX5Emx21Ex7x2YuUK/kaWa6qNcyQLdTdo+RTKU5Gm0N5GmlJ7hHOzLm8nTUq7kjQV92TkX0z66OUW0D2kQeJT+czZD1pUWoKInyILCFQVDwMfBAaBKzX2JPg7aZkkv6pYR1qloR+4H7hdYv80l60C1ubyrcv/XwssJy00MAS8G5hPmqD/d8ALQC9pZYs+YD3wtrztNLAX2AE8ATwCPCl1frWITlJKrAr4KXAdcAJYLfFyS94q1yBwD2mFhgtJKzTcJXG0w2WeDbwLWEZaIuVC0to1PaQ1iV4lLZR0krREynHggMRwJ8tZF4os0pSP1o9VFZuBLwHDVcUAcIC0hs3ivOsZQPnx54BHSh3pSmvoHMw/ZhxqsZZOVdELvI90iekBXiStavWUxEjJspnJUQuxzMzDK6yaECyWCcFimRAslgnBYpkQLJYJwWKZECyWCcFimRAslgnBYpkQLJYJwWKZECyWCcFimRAslgnBYpkQLJYJwWKZECyWCcFimRAslgnBYpkQLJYJwWKZECyWCcFimRAslgnBYpkQLJYJwWKZECyWCcFimRAslgnBYpkQLJYJwWKZECyWCcFimRAslgnBYpkQLJYJwWKZECyWCcFimRAslgnBYpkQLJYJwWKZECyWCeH/OZjLeAyAwOYAAAAASUVORK5CYII='
		}];

		for(var i = 0; i < cards.length; i++) {
			var divs = SetsUI.renderCard(cards[i].card);
			equal(cards[i].data, divs.firstChild.toDataURL());
		}
	});

});
</script>

</head>
<body>
	<div id="qunit"></div>
	<div id="qunit-fixture">test markup, will be hidden</div>
</body>
</html>
