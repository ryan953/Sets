<!DOCTYPE html>
<html>
<head>
<link href="../../lib/qunit.css" rel="stylesheet" type="text/css" media="screen" />
<script src="../../lib/qunit.js"></script>
<script src="../../lib/jquery-1.7.2.min.js"></script>
<script src="../../lib/underscore-1.4.2.min.js"></script>
<script src="../../lib/backbone-0.9.2.min.js"></script>

<script src="../../models/Card.js"></script>
<script src="../../views/Card.js"></script>

<script>
"use strict";

$(document).ready(function () {
	module('Views.Card');

	test('render gives expected dom tree', function() {
		var card = new Models.Card({num: 1, shape:'Diamond',  fill:'striped', color:'blue'});
		var view = new Views.Card({card: card});
		var result = view.render();

		equal(result, view, 'render should return the view again');
		equal(view.el.tagName, 'DIV', 'should be a div');
		ok(view.$el.hasClass('card'), 'should have a classname of card');
		ok(view.$('canvas').length, 'should have a canvas inside the main element');
	});

	test('render Shows cards correctly', function() {
		var cards = [{
			card: {num: 1, shape:'Diamond',  fill:'striped', color:'blue'},
			data: 'data:image/png;base64,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'
		}, {
			card: {num: 1, shape:'Oval',     fill:'striped', color:'blue'},
			data: 'data:image/png;base64,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'
		}, {
			card: {num: 1, shape:'Squiggle', fill:'striped', color:'blue'},
			data: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAKlElEQVR4Xu2dCYxsRRWGu0C2qMiiQUDRBwqICi6AEQNBkSBiREgAA0RBJZi4RUwQNMBTthAIGGMgQkACyGpwYV8kEYgLmyuLCCpqBI2igAuLWPzfnTvQM8y86em+p+7t6b+S82byuvvcuv/9upZTVWdSz8UKBCiQAnzapRXoGSxDEKKAwQqR1U4NlhkIUcBghchqpwbLDIQoYLBCZLVTg2UGQhQwWCGy2qnBMgMhChisEFnt1GCZgRAFDFaIrHZqsMxAiAIGK0RWOzVYZiBEAYMVIqudGiwzEKKAwQqR1U4NlhkIUcBghchqpwbLDIQoYLBCZLVTg2UGQhQwWCGy2qnBMgMhChisEFnt1GCZgRAFDFaIrHZqsMxAiAIGK0RWOzVYZiBEAYMVIqudGiwzEKKAwQqR1U4NlhkIUcBghchqpwbLDIQoYLBCZLVTg2UGQhQwWCGy2qnBMgMhChisEFnt1GCZgRAFDFaIrHZqsMxAiAIGK0RWOzVYZiBEAYMVIqudGiwzEKKAwQqRtYTTvIqusoXslbLVZP+TPdTrpZ+UuPpC1zBYCynUqdfztqrObrX9Qz/XmoKp9xvZu2UbyNaUXSI7UZD9rK3qTzBYeW2J/grZ+jJ+5yGtKntctrrsSdkjssdkf6tbgwfKP6hMXT4iO6RulTbTz3tkbxc4/3yuPpn6Xy97q+w22aOyM/SeC8vXWVdt46Llr5nfoGu+RfYO2XayZTLu/XuydWR/kD1d1+t9+rlhDdOl9e90M2+SvUr2Q9nKsptkt8p+KVd3N39PmXp9SnaY7Iuy78r+LpuG5w79vtMK4OJ16icI01ear9+KPS5RsPJKuu0PyPaTvbCG49v6+SfZ/bKTalAGeTizHx7jmu/IXiu7s4aMLuibst/KrtOD/PloDzIv1+c/L6Obe/MC8CwE1zXyIfDTuaPVaXGfXmJg5Z11+3vIDpb9XraxTOOMpIfTX2Z0G4Ir0X30lcW+3nunPkyLyPiHOgAw3dRF8n3Z4I8k0+WdKfuk7EAZ9Wqifg/Lz3tUl+lWefAqDfnOJQJW/oTuf2/ZE7JTJaBalBlw6P8TY5X54Gn49byuLrSvjFbnP7Jfyb6uOtB6zFGqrvq8GsTjp97QaP0ZJ6ou6bQhOVn0x8YcrPwZ3THjEB4krcT2M7uN6gExGKfQbc3qNoq9TtfMBIBu+EaZHnCivtRPs7feB2U8fI3/+gfkjdWP56zrJlrTImVMwcqMnz4mu092uOwHsm1kc4yZqodzS0deZ+zFIJwuj9/pqhmb7V6gfi/VNTYVXExEwsuYgZUZiJ8tIyAosNJfpxSaPSZacLa00IC3wOvVDFWDfWaURerPl25XXe/X4VTpAmMEVmYMdU4N1TCzuf44zyR+/mZpp9Y9ESYJL2MCVj5aShDM/KxsMXGcAi3PvEHKjsGbFQbpHSOwGDaElzEAKxNFPlmCnD++3V4X4MsXSD/F79Lt4VR1uyvML1H9FNXu/VtivG6mGIuNM40ap1oKn89MGhQfS3+cYLAyMxhaKMIIBB4bjjMhbaNxojGoX/UFRc8ipYNdYX6B7lzxnsS6HAB0IQ5FRdqMg416fZ7zvdL0jUWo6l5XmF+kOj0oAV48q+vrShyq63Gy+er3O+mpyH46YlLBYhGXNbZ3jbjw6tngzC01LEB/Q5reMIFgZcZUW8nYPdCxqfrzxmRjVL8qqPwXQUVvUKx0ZIyVv6Y7Zk8TyxuOUz27q6GJFYQe+8u2FFiHFqOqG2Os/H7VQzsBEguxKkWWNyYJXpZwiAMSDyxWWm6xMte/y3Gq0DgZO1zVYpUtbYN1sW53L9kYxIFK7ud6Xss9rD6c2NFe+XRFWaxaXYTOO+hmWQN8W33T4xwn4hY6Vv/MHn2g+lBpqLheiy1WZqB+nKqgB9KZ/VLjGqeaI86XfyR9tWiffjxBYGVmKuoC04c9YA+ZsOjYF6eK0sfbgKrFFiuzuKxtxf0BO88GpUlTs1WOfM1auC+LWAtdYdZByx5bODgj5wj5/IdOhw3C/kK6HiSw5jm4UQawNsBSTKXa481+72HFa+qbvcSunzktrcO26XNl8Jn/Km2AxREtdoNeJWvo3FxoHKiBc30l6pc5TMJ+q3rc2i5ahcHKu+h2tXc9fXTy9kNFx8F62hmaOKDRiVIaLLZtaAdjOvu5u/d+q1qLUeJgJDORlTnaNQi5pcFi3YqBJYc2+4rjWBJjyHORma3G2hSZ/j/IAy/1ntJgkRqIUINngyPPBntZOn5Ltqeg4hR1p0pBsPKrdedXyoivLLHZGM+0aByOlv+/MnJkTW/dnliwWBMk14KOeU/PBt1yDbFTlqUatVaJDZGdLSVbLHV/1YHT/WWOQw315arOBhJV/1JniaorVhIsckhpVpi0n93nAmd+uRaKc/W+oPeTZ4v1Vc4Hdr6UBOv1UoOEq++dUiX8XB9dLzmnXiMbdj/TdMva1uc5Dk/aymtlCnympzpPVAstFhlirpY4tFx9JSKOlY/SBUgiwqkfrscMitxUO84c01SAd/DcYnUKnARspKA8XXVm0jNWpWCLVT1EWgAlap2di7yxOBbZhMmZRRR6+dSTyHzjPy1jfZKMM4xPyK7XF/dp7Pqj7uci8x970zeRaTxVLgNf09SWBouUjgzgtx5iNrSiAf/L5JP0PMCipGxJp37nKplc6ArQ9taT6ch5lQSNRLXE19qcUJCE9wQZ6b+V4Tixn2qsS2mw+GsKHPNCwIaCpJlEtl+dAiaRP2vAkhnr0YqR532ZjPEMqRQJh0TH2cjmp1aziumR6lJ5U3tK/Z2+P2DlO/+2wmChRwXCctmfR4TrAX2eJBdf1gMhj+cIpUouC1QM9NkdwJiM3O8c9iDtD10USycc/V9ky1blhAcgDuMCMP7JP0qrqu3ZiVzzS660ABYa5mP1D3uG5lh4XVEEO2+uz+wjO1Km/fJ0H+lfzT+VTA53jkyxfgd05O1kOzV511mS4v/WqK9LV8okga1ALAbz/zvK6JbpoklnyZeAVoo/PsD4r0i6xuZ1GdxjS2BRwXyA/qGl4U9zqKVItBJ1mQEXD+EsGX9HhpDFKTLlQi+Xs7yvXkwE6DppKWm9mL0BE2O06Z/kniCvuo610+pFgD/4A27rnS2CVcFFq6CurGoN6GLoHnhIALSRjDTW1JETPZfr15+2JZSvuzgFWgarv7KZ3aQvl5Efi12mjGk4Jd3Xki3u5vzu9hToEFjtieArN6+AwWpeU3usxy8Wwgo0roBbrMYltUMUMFjmIEQBgxUiq50aLDMQooDBCpHVTg2WGQhRwGCFyGqnBssMhChgsEJktVODZQZCFDBYIbLaqcEyAyEKGKwQWe3UYJmBEAUMVoisdmqwzECIAgYrRFY7NVhmIEQBgxUiq50aLDMQooDBCpHVTg2WGQhRwGCFyGqnBssMhChgsEJktVODZQZCFDBYIbLaqcEyAyEKGKwQWe3UYJmBEAUMVoisdmqwzECIAgYrRFY7NVhmIEQBgxUiq50aLDMQooDBCpHVTg2WGQhRwGCFyGqnBssMhChgsEJktVODZQZCFDBYIbLaqcEyAyEKGKwQWe3UYJmBEAUMVoisdmqwzECIAs8AFRrY8QYRJ60AAAAASUVORK5CYII='
		}];

		expect(cards.length);
		_.each(cards, function(test) {
			var model = new Models.Card(test.card);
			var view = new Views.Card({card: model});
			view.render();
			$('#qunit').append(view.$el);
			equal(view.$('canvas')[0].toDataURL(), test.data, 'Base64 image data should be the same');
		});
	});

});
</script>

</head>
<body>
	<div id="qunit"></div>
	<div id="qunit-fixture">test markup, will be hidden</div>
</body>
</html>
